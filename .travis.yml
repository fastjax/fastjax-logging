# Copyright (c) 2018 LibJ
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

dist: trusty
language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/libj
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: J9CdASvYCG4cwSD4xBm/jkBuLp+WAqLhe0VAk+A5FBlooW/W3sRMyTqcXAspcz9Dot+JYmsgZgemwUlMYuI/BSxPLPzTm/ZlUeyRgOqX7iR5k+xamchzHzcH2Gv33NYJkx2Z0TLRo5C0FKFc2SOxuTkoQ3eH7Er9UawwNqPHP/0fSuw9M10/IilzZ9pMEhLKbG6mJvnzYSSPa5TIr3gh1NYHsIjBC50J0QieXTNDYRYMxeoaLt5FU+1GHKwYpN3Qquv2H3z3dZXroY3/wX6eh/EmoBWinACi6GyquQrTBT9aMVaSjone2GPk+eCCvNuPLXERBmLicBtQEGVG1lUNoU5cV+P8rHbyxlxNcfUpva0gJOUUqzcuc342ixFZwrXJ1rRf8ogxccUP3X50hijisTeTOASEu0Fe5DNAaUyUjahqeKPwiRvAGF0EdJGeQBJSN/hpmnGt3icq/WXDltizpRp/9u+AIFzQbKrWmPbRqVuar4LfcyAJQE/Q07ZWM2KiwDNwwCKaFT2xD7YPh0cy7C9//wz9lbSRtDnY4z674/AyG5RIkdRfEZ6CHz/BqwrbVqr9OOd42Ko6LYx/GLNPNjzJj9SFvT70Hi0qK9r76qT186ISjlrw+2rxOEAzRo1ZOdIO+YDmwx8JfbSfcBaZaTPwpxGma/ACJhK8Uoa8rRQ=
  - secure: EBGBCJFtbhNXA27M0dtlH6ySfkh2Fj1aFzQocoQFfwiiOfrI0dZr3J3RmKfYWLWNcXSvBeAdGLvshEHmMAHyqwUvFIg2Enbq6KYFYfFTfSYm5c0BYKOVzhIEJJfLmvC5CAYST3OQzSrXhqHFG79XY5ypasLXqhFba/tkrUTf9tq0oTl1lfCzP9vWsUNdXClvNw39z5hFPvA5Ph4eTckti/tmENJIj1xamIFWKx8XIAe3Sd5jiQi4f+Kq/w/rcmBnh1meJBjBZ61JBOK4KUhJkP94qwOdUklzKWdQLls7goxh6/PToxewFBfwTpM/tODSP8iY6qbNqj+6ogHo47i1+TBSqMCMfdvyE9TUoGcayf+9s1w3r4mxLSjx5V2HSGUwhqSWvOCkoXBKbMHCVrmj2esFjpPalSfuz4H/y02UXoPYbvC/HiXVr6lTnufeH7YbROkeOSl01IX2h6OM1AZuuXi4ltIMHtcbVD35O05wKQEuqI+66QqFWQWz2OdqbOkR2rycTsN8Rjtz9yNy7SyK4FGfu0BEXlIIVhTugly5j9yJ+GoURYGWaG6YgF1MdqwJg3GVh5n525A+0Wxurq3f4SRtAf8I95RFyLcspXmrNDitxCcnynnWvtkOkfVYCs5x0LkSnK++fwFMTKFGYa1alvr7tQqkaEd0HpOtQBUyPVQ=
  - secure: CokNePHTHAnKbX6STVDmQLuO2K83awqYZ0JDaMfopE7ZGHUwvAQOtBkHhB8IrxlcMJUxJLdqG9EXSvLfpskGlY8/d+mH7wWJ9cm/5gqVIN/ibB52peVCLnD3L9O5rdvOkyZ+dEJqbJnHRviSb471xu4FwYZNCFHJRqkP0TNA5S9WSA1SOsjbptiImXnGVQnrTZ/Trg5TCzrsSC61n+jJikn4sd94eivlrAL0+hCP+f+8GioeoISMt3p0nZHwk/dw7UBvA1AE/oUe4gO3mIWmfvSaxGoDpKETzebqmlOuuj//cEK6Fgi419PJVHHuUdKxoNWHxzuFeR1mTD5AI0XnSeQcem9b96uJAb8MojSwdH12ZwTqkoyAZbiU0KUhReW7fBXjVJwndXDJmzKZEEr1mFJWHJFwZThf3fBruXkhmITkVfJ7H7lri1RAgMmuJgNF29dYGdUnYXHks90jKMG5XEEUAAnMoHQmcw/jC4gddJVX1HJDvStUrxt+psidKp79WoGrNUC8+PgrJEKd0VgVa01o9d5kznvxczGR3x9IkP+EmBov6reiqFyCclmNjrT/MetBJ7J5ez0w8Vg2f0bsJO0Mm5t1J90ZDcgeKD4wIOk01uU6f036OSVs7CuW1b5YMz5EEPx8tyt78f3TRkaL54dcKQqm0Yl62/3KPotA+YQ=
  - secure: lSips2YmlUIaDJGpeaTwSS+BZbfIk7sjDYS1h0vK8xBDDQDvBb6IRUFGpYsEt7Z64yFLb1fsTaEvLY8lebLoxQIhAMqZBLF1KdHcMr+Mt3A9fPBlJoL+VgoEcAcNHErrp4lFAFyTltJpYdjRj+hfISgECfzSdVUglUcFVPmrzQvsajI1vhOmGS1SSQtMUBs6gopFwGs823/Vo8NbbhurwV9Z+CS75HUVFmd9cNsTW+vUE6dYFUdLyslaw3rdd2s+jG5xikMNCQG0MhxTKZbRGliDR6NqmnYIlXIcoM3GsbJ7hca9mETlf+0q+8jzVtOxKWJ5JS4cOdtBm4cQqeYkFEzpQf0U72woxoPA0NDS2h12zQiCcRPXXIgzuUCV+IsD6TupDDe+uBwV1d/COjxyL7dr9T2dYibyM83A10hl6e/Y45LB6sq3zFSyJ0dve5xR5BQ0eTLTetr2OIfaeqDsChTHQp5mK6Zw64Hc+M8/AoDKkD24BmB3Fd89EFLYQbmZ6eFGuM0QorW4YCu5O29V7Dh+XHx13Ix/FGMqvUiynlwSREuCW1ypBgxYY3ORp4njJaZDwp+xPGGWYpqTvyV8YVW6m18USShnXSQkZpc2QgizYLZw9bl3JCg/0haw4P0pmObqRU5Klx7ksowEfQ6NC+Cxur4nsyWARz20/OHgiUU=
  - secure: RLcAPVWp7ay19Kv41SleWMTwwNHr3vUf1bW7xv0Uao4c+zWOyrgdF024BUT7bR+A3WZLlCVvUAzdO47EsCbUwnakhrBe519/6dOM22XAPcF//c7mmzF6Y4D2OcVitKLePfpFIz9wFsFMtn86Wcx6Z9ctSuv4+lGJQhclGCqH6G6EBNriPZLoWcq0ORgmUUjrBTtpWO3UQ5JW0xrY45u+XYZxcIyi45i9cHWkhnTDc0H1mndP8PNm1XRr22rMA0P4MePtFQeke2lTZpALlwfHQfCvXItbERi5rK4SktzqMpS5OhRD9J9fsUEuBLoP4EbARfv3f2jOX4MEkArYZoygs1tXv4l3cyjbVRFgkL/p1xoARfcxM9rog6zOejZzXN95MxS9GBN813EgQ3GcvWZp7A/pjlAwx03+w6AeeyhrJOKQZzK0lySjm67eCRuAiV5h+TrRUPBTWQDFe0vqumzQle8+updiiHRwWzpgXaoFK9rqkyp89l3QjPbA0Rn5/ffmvE903/52hIRBYdYyPCUFHq5ZkLX49RFqr/xx5iM0hylaWq301TcFHVl9W7XuXB1FlKvsNh45/PJlV/zmI5q7FvXq1SEUkmzTZBsHCnDn9L0aXwmSsYHU28wS5ppCarra8qeWeQcsSHzJoS1iPGlf1CNI8xblpXW/4vYSQ1u720s=
  - secure: LzvxDNDVm8eNrDQyxl9pjVzZwh7HcY57A+h+rslBc/9LNlDe/VZgV/uev8XtuF9BjHfQ7jJDH3BlbdTouxhu8SyhbmVYLVCw4/E8eQFDV3rDI7//luFsNsuY7hlN7nT4+owXHkJ+ZzpbkTk95dUEdZBQ/g/DRnpzCrIsvA7NYgH7NGgBk0L+e6Y78cttke1LEBKt2NRByuiHmFNFATB+cs52Dg0XeGqrtquhxWEf2RV9kJWFfb8mJ1kS9EN4fTDaHOw4Z9YfD6IBJt+q9aaByoLVS3WaLrRmDQUCBMAsdZbQIszK7i7KUPPCkGGdjhUucudc6EJKmoKxbRui96t2uqtJMcC430+8Pse1oK83mqd7O4POW8slZHCB/WjYRovwEnsCRZnbQ8WvacEBs7ZBEjGXNTsCBRtk9JG1E3y+VWdEfVTsZcM4uZ83rq0rMU208jOaxq1XXeHLla0pIMrlwEx2LpkbV0c0IzfqC7a6u39LNjqoOh6A2bOR+r+pSv30hUyFJ/Asfx0azK46S4hHgFZGL3ZxhKQLp5iGYhj59U0j20FmFufzAgjFhAxZONUQjNhmcAubUwbSL6pBg42mRjRcGX7QXYBFdPKWBgV3YhPMlkIYZNgClPZk4yRGT4onO6+Udj7yCpHJd03IpkBWwsFYBTSomiK4fvWf6Q8Q8cs=
  - secure: AW32OktOGo/zi6F/kg37SpIDnisejLzSmGsDi1H4y7zQnsxy+jI0hQPBDk6LsoEqN6LoPOXRR+GIh7D0/WaCUiHklD2bLZjH79Yuyd49BKU/p1b3qL4CCWjgYy+4SEDkOOVJKGs/76ad2RUIfofBrgVk3DscDXS90mkqyiobL4acTsKdJ7O5fcwnvqBtEqXWB2UPM/hWwEc9fA2ZNFSgo9hbFFw82IgWouXRNN0DlkZy/VNUDyUQ8jeFqabk0Rj18x05pY+h6/LPUMRZG37fk+Sq1mX2Xh5nVJmsMWNYUR2XUEoJe2LzDmor0B8pGtScdNUvffE5XFDcvpJazx+DzxLboXPcz4xP8Rk+jdiDjL/taAmd7u+Bmi07QUHglEFczSrTlsw9UgfTzbdhZAdlX1n7jFpl0qdSHL/s6QdRBHVymAMYxn0Ej28FqdVJ2piueKsNEcq/NgBfBD6xOThixOEoh5ilEGVC8R/aJNYM2z1V/lU6A8ZAwVcW7QLXUwCnD1kKRXgwxgYph7GH62Y+uovZA3e4eEvD6pK9vrUGfDzb9TsCBGCMxpTAk6Qm/SvkCC8wprFCdOvjEXj6W0H4yO6ueGThWJML6t6fVrYs5By8+q602FG63rSAwN5/KRJX6faFfb6a/xh9SH9JUGHJPFr4AKx5/vhAMXEQs/eum+k=
